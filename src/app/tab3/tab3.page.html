<ion-header [translucent]="ui.isIos">
  <ion-toolbar>
    <ion-title [style.fontSize]="data.zoom(17)">
      {{ ui.instant('Tabs.Library') }}<!--诗词库-->
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content #pageTop [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title class="tab-title" mode="md"
      [style.fontSize]="data.zoom(28)">
        {{ ui.instant('Tabs.Library') }}<!--诗词库-->
      </ion-title>
      <ion-buttons slot="end">
        <ion-button shape="round" style="margin-right: 10px;" id="open-action-sheet3">
          <ion-icon name="person-circle-outline" size="large"></ion-icon>
        </ion-button>
        <ion-action-sheet class="language-setting" trigger="open-action-sheet3" 
          header="{{ui.instant('Title.Settings')}}" [buttons]="data.textActionSheetButtons">
        </ion-action-sheet>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>

<div style="display: grid;grid-template-columns: repeat({{ui.isipad?3:2}}, 1fr);
grid-gap:0px;padding:0 10px;margin-top:10px;">
    <ion-card *ngFor="let topic of topics"
      defaultImage="" 
      lazyLoad="{{topic.image}}" 
      style="margin:5px;
      background-size:cover;background-color:{{data.getbgcolor()}}"
      class="search-tile-img"
      id="{{topic.id}}"
      (click)="goToTopic(topic.id)"
      ion-long-press 
      (pressed)="pressed(topic.id)" 
      (longPressed)="active(topic.id)"
      (pressEnded)="released(topic.id)"
    >
      <ion-card-header [ngClass]="{'gray-mask': currentLpId === topic.id }">
        <ion-card-title>&nbsp;</ion-card-title>
        <ion-card-subtitle>&nbsp;</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content 
      [ngClass]="{'gray-mask': currentLpId === topic.id }"
      style="color:white;padding-left:10px;padding-bottom:10px;"
      [style.fontSize]="data.zoom(16)"> 
        {{ ui.instant(topic.text) }}
        <span> ({{$any(data)[topic.count]}})</span>
      </ion-card-content>
    </ion-card>
  </div>

  <div style="display: flex;flex-wrap: wrap;justify-content: center;">
    <app-ascii-card class="card card-img custom-card"
        section="" 
        sub="" 
        title="{{ ui.instant('History.Title') }}"><!--历史上的今天-->
    </app-ascii-card>
  </div>

  <div style="display: flex;flex-wrap: wrap;justify-content: center;">
    <app-dog-card class="card card-img custom-card"
        section="" 
        sub="" 
        title="{{ ui.instant('Game.Title') }}"><!--考考你-->
    </app-dog-card>
  </div>

<!--
  <ion-list style="margin-left:5px;margin-bottom:10px;">
    <ion-item (click)="goToPlayList()" [detail]="true">
      <ion-icon color="primary" name="list-outline" slot="start"></ion-icon>
      <ion-label class="tab3-group-title" [style.fontSize]="data.zoom(17)">
        {{ ui.instant('Lib.Poemlists') }}!--诗单列表--
        <span> ({{data.poemlistcount}})</span>
      </ion-label>
    </ion-item>
    <ion-item (click)="goToAuthor()" [detail]="true">
      <ion-icon color="primary" name="people-outline" slot="start"></ion-icon>
      <ion-label class="tab3-group-title" [style.fontSize]="data.zoom(17)">
        {{ ui.instant('Lib.Poets') }}!--诗人--
        <span> ({{data.poetcount}})</span>
      </ion-label>
    </ion-item>
    <ion-item (click)="goToList()" [detail]="true">
      <ion-icon color="primary" name="albums-outline" slot="start"></ion-icon>
      <ion-label class="tab3-group-title" [style.fontSize]="data.zoom(17)">
        {{ ui.instant('Lib.Albums') }}!--诗单--
        <span> ({{data.albumcount}})</span>
      </ion-label>
    </ion-item>
    <ion-item (click)="goToPoem()" [detail]="true">
      <ion-icon color="primary" name="reader-outline" slot="start"></ion-icon>
      <ion-label class="tab3-group-title" [style.fontSize]="data.zoom(17)">
        {{ ui.instant('Lib.Poems') }}!--诗词--
        <span> ({{data.poemcount}})</span>
      </ion-label>
    </ion-item>
    <ion-item (click)="goToTag()" [detail]="true">
      <ion-icon color="primary" name="layers-outline" slot="start"></ion-icon>
      <ion-label class="tab3-group-title" [style.fontSize]="data.zoom(17)">
        {{ ui.instant('Lib.Topics') }}!--主题--
        <span> ({{data.topiccount}})</span>
      </ion-label>
    </ion-item>
    <ion-item (click)="goToArticle()" [detail]="true">
      <ion-icon color="primary" name="star" slot="start"></ion-icon>
      <ion-label class="tab3-group-title" [style.fontSize]="data.zoom(17)">
        {{ ui.instant('Lib.Articles') }}!--文章--
        <span> ({{data.myLikeArticles.length}})</span>
      </ion-label>
    </ion-item>
  </ion-list>
-->

  <!--最近添加-->
  <app-tile-list name="{{ ui.instant('Title.RecentlyAdded') }}" [arrow]="false" [source]="data.recentCollection()"></app-tile-list>


  <div class="placeholder-playbox"></div>
</ion-content>
