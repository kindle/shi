<!--id="poem-{{data.currentTab}}-{{page}}-{{p.pid}}-{{p.title}}"-->
<ion-button slot="end" color="white" id="poem-{{uuid}}"
  style="margin-left:0px;margin-right:0px;background-color: white;">
  <ion-icon name="ellipsis-horizontal" color="dark"></ion-icon>
</ion-button>
<ion-popover trigger="poem-{{uuid}}" [dismissOnSelect]="true" arrow="false">
  <ng-template>
    <ion-content>
      <ion-list>
        <ion-item lines="full" [button]="true" [detail]="false" (click)="addToCustomList(p)">
          添加到诗单列表...
          <ion-icon name="add-circle-outline" slot="end"></ion-icon>
        </ion-item>
        <ion-item lines="full" [button]="true" [detail]="false"
        *ngIf="data.isliked(p,'poem')" 
        (click)="data.unlikelist(p,'poem')">
          <ion-text color="danger">从诗词库中删除</ion-text>
          <ion-icon name="trash-outline" slot="end" color="danger"></ion-icon>
        </ion-item>
        <ion-item lines="full" [button]="true" [detail]="false"
        *ngIf="!data.isliked(p,'poem')"  
        (click)="data.likelist(p, 'poem')">
          添加到诗词库
          <ion-icon name="add-outline" slot="end"></ion-icon>
        </ion-item>
        <ion-item lines="full" [button]="true" [detail]="false"
          (click)="checkAuthor(p.author)">
          看作者
          <ion-icon name="id-card-outline" slot="end"></ion-icon>
        </ion-item>
        <ion-item lines="full" [button]="true" [detail]="false">
          分享
          <ion-icon name="share-outline" slot="end"></ion-icon>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-popover>